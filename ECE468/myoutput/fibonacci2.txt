;IR code
;tiny code
str input "Please input an integer number: " 
str space " " 
str eol "\n" 
push 
push r0 
push r1 
push r2 
push r3 
jsr main 
sys halt 
label F 
null    null    null    null
link 2 
null    null    null    null
move 2 r0 
$T1 :dirty    null    null    null
move $6 r1 
$T1 :dirty    $P1    null    null
cmpi r1 r0 
jle label1 
$T1 :dirty    $P1    null    null
move 1 r0 
$T2 :dirty    null    null    null
AOP 
move $6 r1 
subi r1 r0 
$T3 :dirty    $P1    null    null
push 
$T3 :dirty    $P1    null    null
push r0 
$T3 :dirty    $P1    null    null
spill $T3 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
null    $P1    null    null
pop 
null    $P1    null    null
pop r0 
$T4    $P1    null    null
move r2 r3 
$T4    $P1    $T4 :dirty    $L1 :dirty
spill $T4 
spill $T4 
move 2 r0 
$T5 :dirty    $P1    null    $L1 :dirty
AOP 
subi r1 r0 
$T6 :dirty    $P1    null    $L1 :dirty
spill $P1 
push 
$T6 :dirty    null    null    $L1 :dirty
push r0 
$T6 :dirty    null    null    $L1 :dirty
spill $T6 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
null    null    null    $L1 :dirty
pop 
null    null    null    $L1 :dirty
pop r0 
$T7    null    null    $L1 :dirty
move r1 r2 
$T7    $T7 :dirty    $L2 :dirty    $L1 :dirty
spill $T7 
spill $T7 
AOP 
addi r3 r2 
null    null    $T8 :dirty    $L1 :dirty
spill $L1 
move r0 $7 
$T8 :dirty    null    $T8 :dirty    null
spill $T8 
spill $T8 
unlnk 
ret 
null    null    null    null
jmp label2 
null    null    null    null
label label1 
null    null    null    null
move 0 r0 
$T9 :dirty    null    null    null
move $6 r1 
$T9 :dirty    $P1    null    null
cmpi r1 r0 
jne label3 
$T9 :dirty    $P1    null    null
move 0 r0 
$T10 :dirty    null    null    null
move r1 $7 
$T10 :dirty    $T10 :dirty    null    null
spill $T10 
spill $T10 
unlnk 
ret 
null    null    null    null
jmp label4 
null    null    null    null
label label3 
null    null    null    null
move 1 r0 
$T11 :dirty    null    null    null
move $6 r1 
$T11 :dirty    $P1    null    null
cmpi r1 r0 
jne label5 
$T11 :dirty    $P1    null    null
move 1 r0 
$T12 :dirty    null    null    null
move r1 $7 
$T12 :dirty    $T12 :dirty    null    null
spill $T12 
spill $T12 
unlnk 
ret 
null    null    null    null
jmp label6 
null    null    null    null
label label5 
null    null    null    null
move 1 r0 
$T13 :dirty    null    null    null
move r1 $7 
$T13 :dirty    $T13 :dirty    null    null
spill $T13 
spill $T13 
unlnk 
ret 
null    null    null    null
label label6 
null    null    null    null
label label4 
null    null    null    null
label label2 
null    null    null    null
unlnk 
ret 
null    null    null    null
label main 
null    null    null    null
link 3 
null    null    null    null
sys writes input 
null    null    null    null
sys readi $-2 
null    null    null    null
move 0 r0 
$T1 :dirty    null    null    null
move r1 r2 
$T1 :dirty    $T1 :dirty    $L1 :dirty    null
move r2 $-1 
label label7 
null    null    null    null
move $-1 r0 
move $-2 r1 
$L1    $L2    null    null
cmpi r0 r1 
jeq label8 
$L1    $L2    null    null
push 
null    null    null    null
move $-1 r0 
push r0 
$L1    null    null    null
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
$L1    null    null    null
pop 
$L1    null    null    null
pop r1 
$L1    $T2    null    null
move r2 r3 
$L1    $T2    $T2 :dirty    $L3 :dirty
spill $T2 
spill $T2 
sys writei $-1 
$L1    null    null    $L3 :dirty
sys writes space 
$L1    null    null    $L3 :dirty
sys writei $-3 
$L1    null    null    $L3 :dirty
spill $L3 
sys writes eol 
$L1    null    null    null
move 1 r1 
$L1    $T3 :dirty    null    null
AOP 
addi r0 r1 
$L1    $T4 :dirty    null    null
spill $L1 
move r0 r2 
$T4 :dirty    $T4 :dirty    $L1 :dirty    null
spill $T4 
spill $T4 
jmp label7 
null    null    $L1 :dirty    null
move r2 $-1 
label label8 
null    null    null    null
move 0 r0 
$T5 :dirty    null    null    null
move r1 $6 
$T5 :dirty    $T5 :dirty    null    null
spill $T5 
spill $T5 
unlnk 
ret 
null    null    null    null
end
